if(typeof WH==="undefined"){var WH={data:{},entities:{},pageVars:{},wowheadRemote:true,staticUrl:"https://wow.zamimg.com"}}WH.isTouch=function(){if(!WH.wowheadRemote&&typeof Platform!=="undefined"){WH.isTouch=function(){return Platform.isTouch()}}else{var b=navigator.userAgent||navigator.vendor||window.opera;var a={isMobile:false,isTablet:false};if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a.isMobile=true}if(!a.isMobile&&/(android|ipad|playbook|silk)/i.test(b)){a.isTablet=true}WH.isTouch=(function(c){return c.isMobile||c.isTablet}).bind(null,a);WH.isMobile=(function(c){return c}).bind(null,a.isMobile);WH.isTablet=(function(c){return c}).bind(null,a.isTablet)}return WH.isTouch()};if(typeof $WowheadPower==="undefined"){var $WowheadPower=new function(){var ad={1:{name:"NPC",path:"npc",data:{},maxId:500000},2:{name:"Object",path:"object",data:{},maxId:750000},3:{name:"Item",path:"item",data:{},maxId:500000},4:{name:"Item Set",path:"item-set",data:{},maxId:10000,minId:-5000},5:{name:"Quest",path:"quest",data:{},maxId:100000},6:{name:"Spell",path:"spell",data:{},maxId:500000},7:{name:"Zone",path:"zone",data:{},maxId:50000},10:{name:"Achievement",path:"achievement",data:{},maxId:50000},12:{name:"Holiday",path:"event",data:{},maxId:10000},17:{name:"Currency",path:"currency",data:{},maxId:10000},20:{name:"Building",path:"building",data:{},maxId:1000},21:{name:"Follower",path:"follower",data:{},maxId:10000},22:{name:"Mission Ability",path:"mission-ability",data:{},maxId:10000},23:{name:"Mission",path:"mission",data:{},maxId:10000},25:{name:"Ship",path:"ship",data:{},maxId:10000},26:{name:"Threat",path:"threat",data:{},maxId:1000},27:{name:"Resource",path:"resource",data:{},maxId:100,minId:0},28:{name:"Champion",path:"champion",data:{},maxId:10000},30:{name:"Order Advancement",path:"order-advancement",data:{},maxId:5000},38:{name:"BFA Champion",path:"bfa-champion",data:{},maxId:10000},40:{name:"Affix",path:"affix",data:{},maxId:1000},42:{name:"Azerite Essence Power",path:"azerite-essence-power",data:{},maxId:1000},43:{name:"Azerite Essence",path:"azerite-essence",data:{},maxId:100},100:{name:"Guide",path:"guide",data:{}},101:{name:"Transmog Set",path:"transmog-set",data:{},maxId:50000},110:{name:"Outfit",path:"outfit",data:{}},200:{name:"Pet Ability",path:"pet-ability",data:{},maxId:10000}};var P=WH.wowheadRemote;var aU=P;var B=false;var aC={applyto:3},M=document.getElementsByTagName("head")[0],aQ,aH={attach:3,attachToIcon:1,attachWithoutScreenshot:4,"float":0,floatWithoutIcon:5,screen:2},A=550,aY={colorLinks:"colorlinks",iconizeLinks:"iconizelinks",renameLinks:"renamelinks"},al,F,U,az,p,ar,ax,aw,aq=aH["float"],H=false,af=null,G=1,E=1,aL=-1,o=0,e=1,O=0,ag=1,aG=2,g=3,ao=4,y=5,ae=1,V=2,x=3,l=4,aJ=5,ai=6,Y=7,Z=10,m=12,X=13,k=17,aI=20,ac=21,D=22,aK=23,t=25,aj=26,q=27,N=28,aX=30,aS=38,d=40,aP=42,T=43,n=100,aO=101,b=110,au=200,aB=[Z,T,aP,x,ai],f=15,C=15,a={0:{achievementComplete:"Achievement earned by $1 on $2/$3/$4",loading:"Loading…",noResponse:"No response from server :(",notFound:"%s Not Found"},1:{achievementComplete:"$1이(가) $2/$3/$4에 업적을 달성함",loading:"로딩 중…",noResponse:"서버가 응답하지 않습니다 :(",notFound:"%s 을(를) 찾을 수 없음"},2:{achievementComplete:"Haut-fait reçu par $1 le $2/$3/$4",loading:"Chargement…",noResponse:"Pas de réponse du serveur :(",notFound:"%s non trouvé"},3:{achievementComplete:"Erfolg wurde von $1 am $3.$2.$4 errungen",loading:"Lädt…",noResponse:"Keine Antwort vom Server :(",notFound:"%s nicht gefunden"},4:{achievementComplete:"$1在$2/$3/$4上获得成就",loading:"正在载入…",noResponse:"服务器没有响应 :(",notFound:"%s未找到"},6:{achievementComplete:"Logro conseguido por $1 el $2/$3/$4",loading:"Cargando…",noResponse:"No hay respuesta del servidor :(",notFound:"%s no encontrado/a"},7:{achievementComplete:"$1 получил(а) это достижение $2/$3/$4",loading:"Загрузка…",noResponse:"Нет ответа от сервера :(",notFound:"%s не найдено"},8:{achievementComplete:"Conquista conseguida por $1 em $3/$2/$4",loading:"Carregando…",noResponse:"Sem resposta do servidor :(",notFound:"%s não encontrado(a)"},9:{achievementComplete:"Impresa compiuta da $1 su $2/$3/$4",loading:"Caricamento…",noResponse:"Nessuna risposta dal server :(",notFound:"%s Non Trovato"}},v=[n];var ab=new function(){var a3={};var a2={};var a1={};var a0={};this.fetch=function(a7,ba){if(!a0.hasOwnProperty(a7)||a0[a7].hasOwnProperty(ba)){return}a0[a7][ba]=ag;a3[a7][ba]=[];var a8=WH.dataEnvTerm[ba];switch(ba){case WH.dataEnv.BETA:a8=WH.BETA_DOMAIN||a8;break;case WH.dataEnv.MAIN:a8="www";break}var a6=ak(a8)+a2[a7];var a9=WH.getDataBuild(ba);a6+=(a9!=="0")?"&"+a9:"";a6+="&json";WH.xhrJsonRequest(a6,(function(bb,bd,bc){if(!bc){WH.error("Wowhead tooltips failed to load scaling data for "+ay(bb));return}ab.setData(bb,bd,bc)}).bind(null,a7,ba))};this.getSpellsBySpec=function(a6,a7){var a8=U||WH.getDataEnv();this.registerCallback(X,a8,function(){var ba=a1[X][a8];var a9=[];if(ba.specMap.hasOwnProperty(a6)){a9=ba["class"][ba.specMap[a6]].concat(ba.spec[a6]||[])}a7(a9)})};this.isLoaded=function(a6,a7){if(!a0.hasOwnProperty(a6)){return true}if(a0[a6][a7]===ao){a4();return true}return false};this.registerCallback=function(a6,a8,a7){if(this.isLoaded(a6,a8)){window.requestAnimationFrame(a7);return}if(!a3[a6].hasOwnProperty(a8)){this.fetch(a6,a8)}a3[a6][a8].push(a7)};this.setData=function(a7,a9,a8){a0[a7][a9]=ao;a3[a7][a9]=a3[a7][a9]||[];a1[a7][a9]=a8;a4();var a6=a3[a7][a9];while(a6.length){a6.shift()()}};function a5(){a2[x]="/data/item-scaling";a2[ai]="/data/spell-scaling";a2[X]="/data/spec-spells";for(var a6 in a2){if(!a2.hasOwnProperty(a6)){continue}a0[a6]={};a3[a6]={};a1[a6]={}}}function a4(){var a7=U||WH.getDataEnv();var a6;if(a6=a1[x][a7]){WH.staminaFactor=a6.staminaByIlvl;WH.convertRatingToPercent.RB=a6.combatRatingsBase;WH.convertRatingToPercent.LH=a6.ratingsToPercentLH;WH.convertRatingToPercent.RM=a6.ratingsToPercentRM;WH.convertRatingToPercent.LT=a6.ratingsToPercentLT;WH.convertScalingFactor.SV=a6.itemScalingValue;WH.convertScalingFactor.SD=a6.scalingFactors;WH.curvePoints=a6.curvePoints;WH.applyStatModifications.ScalingData=a6.scalingData;WH.data.artifactKnowledgeMultiplier=a6.artifactKnowledgeMultiplier}if(a6=a1[ai][a7]){WH.convertScalingSpell.SV=a6.scalingValue;WH.convertScalingSpell.SpellInformation=a6.spellInformation;WH.convertScalingSpell.RandPropPoints=a6.randPropPoints}}a5()};this.setScales=ab.setData;var s={0:"enus",1:"kokr",2:"frfr",3:"dede",4:"zhcn",6:"eses",7:"ruru",8:"ptbr",9:"itit"};var aa={getId:function(){return 0},getName:function(){return"enus"}};if(typeof aR==="undefined"){var aR={tooltip_genericrating:'<span class="q2">Equip: Increases your $1 by <!--rtg$2-->$3&nbsp;<small>(<!--rtg%$2-->0&nbsp;@&nbsp;L<!--lvl-->0)</small>.</span><br />',tooltip_reforged:"Reforged ($1 $2 &rarr; $1 $3)",traits:{agi:["Agility","Agi","Agi"],arcres:["Arcane resistance","Arcane Resist","ArcR"],arcsplpwr:["Arcane spell power","Arcane Power","ArcP"],armor:["Armor","Armor","Armor"],armorbonus:["Additional armor","Bonus Armor","AddAr"],armorpenrtng:["Armor penetration rating","Armor Pen","Pen"],atkpwr:["Attack power","AP","AP"],block:["Block value","Block Value","BkVal"],blockrtng:["Block rating","Block","Block"],critstrkrtng:["Critical strike rating","Crit","Crit"],defrtng:["Defense rating","Defense","Def"],dmg:["Weapon damage","Damage","Dmg"],dmgmax1:["Maximum damage","Max Damage","Max"],dmgmin1:["Minimum damage","Min Damage","Min"],dodgertng:["Dodge rating","Dodge","Dodge"],dps:["Damage per second","DPS","DPS"],exprtng:["Expertise rating","Expertise","Exp"],firres:["Fire resistance","Fire Resist","FirR"],firsplpwr:["Fire spell power","Fire Power","FireP"],frores:["Frost resistance","Frost Resist","FroR"],frosplpwr:["Frost spell power","Frost Power","FroP"],hastertng:["Haste rating","Haste","Haste"],health:["Health","Health","Hlth"],healthrgn:["Health regeneration","HP5","HP5"],hitrtng:["Hit rating","Hit","Hit"],holres:["Holy resistance","Holy Resist","HolR"],holsplpwr:["Holy spell power","Holy Power","HolP"],"int":["Intellect","Int","Int"],level:["Level","Level","Lvl"],mana:["Mana","Mana","Mana"],manargn:["Mana regeneration","MP5","MP5"],mastrtng:["Mastery rating","Mastery","Mastery"],mleatkpwr:["Melee attack power","Melee AP","AP"],mlecritstrkrtng:["Melee critical strike rating","Melee Crit","Crit"],mledmgmax:["Melee maximum damage","Melee Max Damage","Max"],mledmgmin:["Melee minimum damage","Melee Min Damage","Min"],mledps:["Melee DPS","Melee DPS","DPS"],mlehastertng:["Melee haste rating","Melee Haste","Haste"],mlehitrtng:["Melee hit rating","Melee Hit","Hit"],mlespeed:["Melee speed","Melee Speed","Speed"],natres:["Nature resistance","Nature Resist","NatR"],natsplpwr:["Nature spell power","Nature Power","NatP"],nsockets:["Number of sockets","Sockets","Sockt"],parryrtng:["Parry rating","Parry","Parry"],reqarenartng:["Required personal and team arena rating","Req Rating","Rating"],reqlevel:["Required level","Req Level","Level"],resirtng:["PvP Resilience rating","PvP Resilience","Resil"],rgdatkpwr:["Ranged attack power","Ranged AP","RAP"],rgdcritstrkrtng:["Ranged critical strike rating","Ranged Crit","Crit"],rgddmgmax:["Ranged maximum damage","Ranged Max Damage","Max"],rgddmgmin:["Ranged minimum damage","Ranged Min Damage","Min"],rgddps:["Ranged DPS","Ranged DPS","DPS"],rgdhastertng:["Ranged haste rating","Ranged Haste","Haste"],rgdhitrtng:["Ranged hit rating","Ranged Hit","Hit"],rgdspeed:["Ranged speed","Ranged Speed","Speed"],sepbasestats:"Base stats",sepdefensivestats:"Defensive stats",sepindividualstats:"Individual stats",sepoffensivestats:"Offensive stats",sepresistances:"Resistances",sepweaponstats:"Weapon stats",shares:["Shadow resistance","Shadow Resist","ShaR"],shasplpwr:["Shadow spell power","Shadow Power","ShaP"],speed:["Speed","Speed","Speed"],spi:["Spirit","Spi","Spi"],splcritstrkrtng:["Spell critical strike rating","Spell Crit","Crit"],spldmg:["Damage done by spells","Spell Damage","Dmg"],splheal:["Healing done by spells","Healing","Heal"],splpwr:["Spell power","Spell Power","SP"],splhastertng:["Spell haste rating","Spell Haste","Haste"],splhitrtng:["Spell hit rating","Spell Hit","Hit"],splpen:["Spell penetration","Spell Pen","Pen"],sta:["Stamina","Sta","Sta"],str:["Strength","Str","Str"],pvppower:["PvP Power","PvPPower","PvPPower"]}}}function av(){if(WH.Tooltip){WH.wowheadRemotePreload=true}if(P){if(!WH.wowheadRemotePreload){var a0=["basic.js?26"];if(j("iconSize")){a0.push("global/WH/Icon.js?2")}for(var a3=0,a2;a2=a0[a3];a3++){var a1=document.createElement("script");a1.src=WH.staticUrl+"/js/"+a2;M.appendChild(a1)}}}else{R();u(function(){aa=window.Locale;ab.fetch(x,WH.getDataEnv());ab.fetch(ai,WH.getDataEnv())})}}function aA(){var a1=j("hide");if(!a1){return}if(typeof aQ!=="undefined"){return}if(!document.styleSheets){return}var a2=document.createElement("style");a2.type="text/css";M.appendChild(a2);if(!window.createPopup){M.appendChild(document.createTextNode(""))}aQ=document.styleSheets[document.styleSheets.length-1];for(var a0 in a1){if(!a1.hasOwnProperty(a0)||!a1[a0]){continue}if(aQ.insertRule){aQ.insertRule(".wowhead-tooltip .whtt-"+a0+"{display: none}",aQ.cssRules.length)}else{if(aQ.addRule){aQ.addRule(".wowhead-tooltip .whtt-"+a0,"display: none",-1)}}}}this.getEntity=function(a1,a4,a3,a0){var a2=aW(a1);a2[a4]=a2[a4]||{};a2[a4][a3]=a2[a4][a3]||{};a2[a4][a3][a0]=a2[a4][a3][a0]||{status:O,callbacks:[],data:{}};return a2[a4][a3][a0]};function aW(a0){if(typeof ad[a0]!=="object"){throw new Error("Wowhead tooltips could not find config for entity #"+a0)}return ad[a0].data}function aM(a0){if(typeof ad[a0]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+a0);return undefined}if(!WH.wowheadRemote||!ad[a0].hasOwnProperty("maxId")){return undefined}return{min:ad[a0].hasOwnProperty("minId")?ad[a0].minId:1,max:ad[a0].maxId}}function ay(a0){if(typeof ad[a0]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+a0);return"Entity"}return ad[a0].name}function ap(a0){if(typeof ad[a0]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+a0);return"unknown"}return ad[a0].path}function c(a0,a1){var a2=a[a0]||a[0];return a2[a1]||""}function j(a1){var a0=S();if(!a0){return null}if(!a0.hasOwnProperty(a1)){if(aY[a1]&&a0.hasOwnProperty(aY[a1])){return a0[aY[a1]]}return null}return a0[a1]}function S(){if(typeof whTooltips==="object"){return whTooltips}if(typeof wowhead_tooltips==="object"){return wowhead_tooltips}return null}function R(){if(H){return}H=true;WH.aE(document,"keydown",function(a0){a0=WH.normalizeEvent(a0);switch(a0.keyCode){case 27:$WowheadPower.clearTouchTooltip();WH.Tooltip.hide();break}});if(WH.isTouch()){i()}else{WH.aE(document,"mouseover",I)}}this.attachTouchTooltips=function(a0){if(!WH.isTouch()){return}if(a0&&a0.nodeType===1){i(a0)}};function u(a0){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",a0)}else{a0()}}function am(a0){if(!a0.dataset||a0.dataset.hasWhTouchEvent==="true"){return}if(a0.onclick==null){a0.onclick=r}else{WH.aE(a0,"click",r)}a0.dataset.hasWhTouchEvent="true"}function i(a0){if(!WH.isTouch()){return}u(function(){a0=a0||document.body;var a2=WH.gE(a0,"a");for(var a3=0,a1=a2.length;a3<a1;a3++){am(a2[a3])}})}this.init=function(){if(j("iconSize")&&typeof Icon==="undefined"){setTimeout($WowheadPower.init,10);return}if(P){if(!WH.wowheadRemotePreload){WH.ae(M,WH.ce("link",{type:"text/css",href:WH.staticUrl+"/css/basic.css?&14",rel:"stylesheet"}));if(j("iconSize")){WH.ae(M,WH.ce("link",{type:"text/css",href:WH.staticUrl+"/css/global/icon.css",rel:"stylesheet"}))}}}R();u(function(){if(j("renameLinks")||j("colorLinks")||j("iconizeLinks")||j("iconSize")){for(var a0=0;a0<document.links.length;a0++){var a1=document.links[a0];J(a1)}aA()}else{if(document.querySelectorAll){var a2=document.querySelectorAll('a[href*="wowhead.com/talent-calc/embed/"]');for(var a0=0;a0<a2.length;a0++){J(a2[a0])}}}})};function L(a0){var a1=WH.getCursorPos(a0);ax=a1.x;aw=a1.y}function an(a1,a2){if(a1.classList){a1.classList.add.apply(a1.classList,a2)}else{for(var a0=0;a0<a2.length;a0++){if((" "+a1.className+" ").indexOf(" "+a2[a0]+" ")<0){a1.className=(a1.className?a1.className+" ":"")+a2[a0]}}}}function J(a3,bp){if(bp&&a3.dataset&&a3.dataset.simpleTooltip){if(!WH.isTouch()&&!a3.onmouseout){a3.onmousemove=aE;a3.onmouseout=ah}WH.Tooltip.show(a3,a3.dataset.simpleTooltip.length<30?'<div class="no-wrap">'+a3.dataset.simpleTooltip+"</div>":a3.dataset.simpleTooltip);return e}if(a3.nodeName!=="A"&&a3.nodeName!=="AREA"){return aL}var a7=a3.rel;try{if(a3.dataset&&a3.dataset.hasOwnProperty("wowhead")){a7=a3.dataset.wowhead}else{if(a3.getAttribute&&a3.getAttribute("data-wowhead")){a7=a3.getAttribute("data-wowhead")}}}catch(bv){void (0)}if((!a3.href.length&&!a7)||(a7&&/^np\b/.test(a7))||(a3.getAttribute("data-disable-wowhead-tooltip")==="true")||(WH.isTouch()&&a3.getAttribute("data-disable-wowhead-touch-tooltip")==="true")){return o}var bm,bl,bk,a1,bs={};var a8=/^https?:\/\/(?:[^/]+\.)?classic\.(?:[^/]+\.)?wowhead\.com\/talent-calc\/embed\/[^#]+/;if(P&&(a1=a3.href.match(a8))){a3.parentNode.replaceChild(WH.ce("div",{style:{maxWidth:"750px",maxHeight:"513px",margin:"10px auto"},className:"wowhead-embed wowhead-embed-talent-calc"},WH.ce("div",{style:{position:"relative",width:"100%",height:0,paddingTop:"68.4%"}},WH.ce("iframe",{src:a1[0],width:"100%",height:"100%",style:{border:0,left:0,position:"absolute",top:0,borderRadius:"6px"},sandbox:"allow-scripts allow-top-navigation"}))),a3);return e}p=bs;var a6=function(bx,by,bz){switch(by){case"buff":case"map":case"noimage":case"nomajor":case"notip":case"premium":case"pvp":case"sock":case"text":case"twcata":case"twmists":case"twtbc":case"twwotlk":bs[by]=true;break;case"artk":case"c":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1lvl":case"gem2lvl":case"gem3lvl":case"ilvl":case"level":case"lvl":case"nlc":case"pwr":case"q":case"rand":case"rank":case"spec":case"tink":case"upgd":bs[by]=parseInt(bz);break;case"abil":case"azerite-essence-powers":case"azerite-powers":case"bonus":case"cri":case"forg":case"gem1bonus":case"gem2bonus":case"gem3bonus":case"gems":case"know":case"pcs":case"rewards":bs[by]=bz.split(":");break;case"domain":case"who":bs[by]=bz;break;case"image":if(bz==="premium"){bs[bz]=true}else{bs[by]=bz?("_"+bz):""}break;case"transmog":if(bz==="hidden"){bs[by]=bz}else{bs[by]=parseInt(bz)}break;case"when":bs[by]=new Date(parseInt(bz));break}};if(aC.applyto&1){bl=2;bk=3;if(a3.href.indexOf("http://")==0||a3.href.indexOf("https://")==0){bm=1;a1=a3.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|guide|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power)[=/](?:[^/?&#]+-)?(-?\d+(?:\.\d+)?)/);if(!a1){a1=a3.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/(guide)s\/([^\?&#]+)/)}E=0}else{a1=a3.href.match(/()\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|guide)[=/](?:[^/?&#]+-)?(-?\d+(?:\.\d+)?)/);if(!a1){a1=a3.href.match(/()\/(guide)s\/([^\?&#]+)/)}E=1}}if(a1==null&&a7&&(aC.applyto&2)){bm=0;bl=1;bk=2;a1=a7.match(/(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|guide).?(-?\d+(?:\.\d+)?)/);E=1}if(!a1){return o}a3.href.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a6);if(a7){a7.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a6)}if(bs.gems&&bs.gems.length>0){var bq;for(bq=Math.min(3,bs.gems.length-1);bq>=0;--bq){if(parseInt(bs.gems[bq])){break}}++bq;if(bq==0){delete bs.gems}else{if(bq<bs.gems.length){bs.gems=bs.gems.slice(0,bq)}}}var a2=["bonus","gem1bonus","gem2bonus","gem3bonus"];for(var bh=0,a9;a9=a2[bh];bh++){if(bs[a9]&&bs[a9].length>0){for(bq=Math.min(16,bs[a9].length-1);bq>=0;--bq){if(parseInt(bs[a9][bq])){break}}++bq;if(bq==0){delete bs[a9]}else{if(bq<bs[a9].length){bs[a9]=bs[a9].slice(0,bq)}}}}if(bs.abil&&bs.abil.length>0){var bq,bu=[],bo;for(bq=0;bq<Math.min(8,bs.abil.length);bq++){if(bo=parseInt(bs.abil[bq])){bu.push(bo)}}if(bu.length==0){delete bs.abil}else{bs.abil=bu}}if(bs.rewards&&bs.rewards.length>0){var bq;for(bq=Math.min(3,bs.rewards.length-1);bq>=0;--bq){if(/^\d+.\d+$/.test(bs.rewards[bq])){break}}++bq;if(bq==0){delete bs.rewards}else{if(bq<bs.rewards.length){bs.rewards=bs.rewards.slice(0,bq)}}}ar=a3;var bw=null;var bn=aa.getId();var a0=WH.getDataEnv();if(bs.domain){bw=bs.domain.toLowerCase()}else{if(bm&&a1[bm]){bw=a1[bm].toLowerCase().replace(/(?:^|\.)(staging|dev)$/,"")}}if(bw!==null){a0=WH.dataEnv.MAIN;bn=WH.getLocaleFromDomain(bw);if((new RegExp("\\b"+WH.BETA_DOMAIN+"\\b")).test(bw)){a0=WH.dataEnv.BETA}else{for(var bf in WH.dataEnv){if(!WH.dataEnv.hasOwnProperty(bf)||!WH.dataEnvTerm.hasOwnProperty(WH.dataEnv[bf])){continue}if((new RegExp("\\b"+WH.dataEnvTerm[WH.dataEnv[bf]]+"\\b")).test(bw)){a0=WH.dataEnv[bf];break}}}}if(a0===WH.dataEnv.PTR&&!WH.isPtrActive()){a0=WH.dataEnv.MAIN}if(a0===WH.dataEnv.BETA&&!WH.isBetaActive()){a0=WH.dataEnv.MAIN}if([WH.dataEnv.BETA,WH.dataEnv.PTR].indexOf(a0)>=0){bn=0}if(a3.href.indexOf("#")!=-1&&document.location.href.indexOf(a1[bl]+"="+a1[bk])!=-1){return o}var bc=false;if(WH.isTouch()){if("innerWidth" in window){bc=window.innerWidth<A}else{var bt=document.documentElement||document.body;bc=!isNaN(bt.clientWidth)&&bt.clientWidth<A}}aq=aH["float"];if(bc){aq=aH.screen}else{if((a3.parentNode.className.indexOf("icon")==0&&a3.parentNode.nodeName=="DIV")||a3.getAttribute("data-whattach")=="icon"){aq=aH.attachToIcon}else{if(WH.isTouch()||a3.getAttribute("data-whattach")=="true"){aq=aH.attach}else{var bb=a3.parentNode;var ba=0;while(bb){if(bb.className&&bb.className.indexOf("menu-inner")==0){aq=aH.attachWithoutScreenshot;break}ba++;if(ba>9){break}bb=bb.parentNode}}}}if(!WH.isTouch()&&!a3.onmouseout){if(aq===aH["float"]){a3.onmousemove=aE}a3.onmouseout=ah}if(aq===aH["float"]&&a3.dataset.whtticon==="false"){aq=aH.floatWithoutIcon}var bd=a1[bl];var a5=WH.getTypeIdFromTypeString(bd);var a4=a1[bk];if(bp){B=true;L(bp);WH.Tooltip.showingTooltip=true;if(typeof a3.overrideTooltip=="object"){var bg=a3.overrideTooltip.html;var be=a3.overrideTooltip.html2;if(typeof a3.overrideTooltip.htmlGenerator=="function"){bg=a3.overrideTooltip.htmlGenerator(a3.overrideTooltip)}if(typeof a3.overrideTooltip.html2Generator=="function"){be=a3.overrideTooltip.html2Generator(a3.overrideTooltip)}if(a3.overrideTooltip.spanClass){bg='<span class="'+a3.overrideTooltip.spanClass+'">'+bg+"</span>";if(be){be='<span class="'+a3.overrideTooltip.spanClass+'">'+be+"</span>"}}aV(bn,bg,a3.overrideTooltip.icon,a3.overrideTooltip.map,a3.overrideTooltip.spellData,be,a3.overrideTooltip.image,a3.overrideTooltip.imageClass)}else{h(a5,a4,a0,bn,bs)}}if(bp||!S()){return e}var bi=$WowheadPower.getEntity(a5,at(a5,a4,bs),a0,bn);var bj=[];if((j("renameLinks")&&a3.getAttribute("data-wh-rename-link")!=="false")||a3.getAttribute("data-wh-rename-link")==="true"){bj.push(function(){delete a3.dataset.whIconAdded;a3.innerHTML="<span>"+bi.data.name+"</span>"})}var br=a3.getAttribute("data-wh-icon-size");if((br||j("iconizeLinks"))&&aB.indexOf(a5)!==-1){if(!br){br=j("iconSize")}bj.push(function(){if(bi.data.icon&&a3.dataset.whIconAdded!=="true"){aF(a3,bi.data,br)}})}if(j("colorLinks")&&a5===x){bj.push(function(){an(a3,["q"+bi.data.quality])})}if(bj.length){if(bi.status===O||bi.status===ag){bi.callbacks=bi.callbacks.concat(bj);if(bi.status===O){aD(a5,a4,a0,bn,true,bs)}}else{if(bi.status===ao||bi.status===y){while(bj.length){bj.shift()()}}}}return e}function aF(a1,a2,a0){if(!a0||typeof WH.Icon==="undefined"||!WH.Icon.isValidSize(a0)){a0="tiny"}var a3=a2.icon.toLocaleLowerCase();if(a0==="tiny"){an(a1,["icontinyl"]);if(a1.style.setProperty){a1.style.setProperty("padding-left","18px","important")}else{a1.style.paddingLeft="18px"}a1.style.verticalAlign="center";a1.style.background="url("+WH.staticUrl+"/images/wow/icons/tiny/"+a3+".gif) left center no-repeat"}else{if(a1.getAttribute("data-wh-icon-added")==="true"){return}WH.aef(a1,WH.Icon.create(a3,a0,null,{span:true}))}a1.setAttribute("data-wh-icon-added","true")}function I(a2){a2=WH.normalizeEvent(a2);var a1=a2._target;var a0=0;while(a1!=null&&a0<5&&J(a1,a2)===aL){a1=a1.parentNode;++a0}}function r(a3){a3=WH.normalizeEvent(a3);var a2=this;if(a2.hasWHTouchTooltip===true){return}var a1=0;var a0;while(a2!=null&&a1<5&&(a0=J(a2,a3))===aL){a2=a2.parentNode;++a1}if(a0===e){if(af!==null){af.removeAttribute("data-showing-touch-tooltip");af.hasWHTouchTooltip=false}af=a2;af.hasWHTouchTooltip=true;if(a3.stopPropagation){a3.stopPropagation()}if(a3.preventDefault){a3.preventDefault()}return false}}function aE(a0){a0=WH.normalizeEvent(a0);L(a0);WH.Tooltip.move(ax,aw,0,0,f,C)}function ah(){al=null;ar=null;WH.Tooltip.hide()}function ak(a2){if(!WH.isDev()){return"https://"+a2+".wowhead.com"}var a0=document.location.hostname.split(".");a0=a0[a0.length-3];if(a2==="www"){a2=a0}else{a2=a2+"."+a0}var a1="https://"+a2+".wowhead.com";if(document.location.port!==""){a1+=((document.location.port.indexOf(":")<0)?":":"")+document.location.port}if(document.location.protocol!=="https:"){a1=a1.replace(/^https:/,"http:")}return a1}function w(a1){var a0="tooltip";if(p&&p.buff){a0="buff"}if(p&&p.text){a0="text"}if(p&&p.premium){a0="tooltip_premium"}return a0+(a1||"")}function aT(){return(p&&p.text)?"text_icon":"icon"}function aZ(){return(p&&p.buff?"buff":"")+"spells"}function z(a0){if(typeof a0==="undefined"){return"image_NONE"}return"image"+a0}function h(a5,a1,a2,a7,a3){if(!a3){a3={}}var a6=at(a5,a1,a3);al=a5;F=a6;U=a2;az=a7;p=a3;ab.isLoaded(a5,a2);var a4=$WowheadPower.getEntity(a5,a6,a2,a7);if(a4.status===ao||a4.status===g){var a8=a4.data[z(a3.image)];var a9=a4.data["image"+a3.image+"_class"];var a0=K(a5,a1,a2);if(a0){a8=a0[0];a9=a0[1]}aV(a7,a4.data[w()],a4.data[aT()],a4.data.map,a4.data[aZ()],a4.data[w(2)],a8,a9)}else{if(a4.status===ag||a4.status===y){if(WH.inArray(v,a5)==-1){aV(a7,c(a7,"loading"))}}else{aD(a5,a1,a2,a7,WH.inArray(v,a5)!=-1,a3)}}}function aD(ba,a1,a2,bd,a9,a3){var bb=at(ba,a1,a3);var a5=$WowheadPower.getEntity(ba,bb,a2,bd);if(a5.status!==O&&a5.status!==aG){return}a5.status=ag;var a7=aM(ba);if(a7&&(parseInt(a1,10)<a7.min||parseInt(a1,10)>a7.max)){$WowheadPower.register(ba,a1,a2,bd,{error:"ID is out of range"});return}if(!a9){a5.timer=setTimeout(W.bind(this,ba,bb,a2,bd),333)}var be=[];for(var a6 in a3){switch(a6){case"spec":if(ba===ai||ba===aP){break}case"abil":case"artk":case"azerite-essence-powers":case"azerite-powers":case"bonus":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1bonus":case"gem1lvl":case"gem2bonus":case"gem2lvl":case"gem3bonus":case"gem3lvl":case"gems":case"ilvl":case"level":case"lvl":case"nlc":case"nomajor":case"pvp":case"q":case"rand":case"rank":case"rewards":case"sock":case"tink":case"transmog":case"twcata":case"twmists":case"twtbc":case"twwotlk":case"upgd":if(typeof a3[a6]==="object"){be.push(a6+"="+a3[a6].join(":"))}else{if(a3[a6]===true){be.push(a6)}else{be.push(a6+"="+a3[a6])}}break}}var a4=WH.getDomainFromLocale(bd);switch(a2){case WH.dataEnv.MAIN:break;case WH.dataEnv.BETA:if(WH.BETA_DOMAIN){a4+=(a4?".":"")+WH.BETA_DOMAIN;break}default:a4+=(a4?".":"")+WH.dataEnvTerm[a2]}if(!a4){a4="www"}var a8=ak(a4);if(a2===WH.dataEnv.PTR||a2===WH.dataEnv.BETA){if(WH.getDataBuild(a2)!=="0"){be.push(WH.getDataBuild(a2))}}if(!ab.isLoaded(ba,a2)){ab.fetch(ba,a2)}if(ba==x&&a3&&a3.hasOwnProperty("lvl")&&!ab.isLoaded(ai,a2)){ab.fetch(ai,a2)}var a0=be.length?"?"+be.join("&"):"";var bc=a8+"/tooltip/"+ap(ba)+"/"+a1+a0;WH.xhrJsonRequest(bc,(function(bh,bk,bg,bj,bf,bi){if(!bi){WH.error("Wowhead tooltips failed to load data for "+ay(bh)+" #"+bk);return}else{if(bi.error){WH.error("Wowhead tooltip request responded with an error",bi.error,ay(bh)+" #"+bk)}}$WowheadPower.register(bh,bg,bj,bf,bi)}).bind(null,ba,a1,bb,a2,bd))}function aV(bi,bl,a8,bk,a0,bs,a2,a7){aA();if(!B){return}if(ar&&ar._fixTooltip){bl=ar._fixTooltip(bl,al,F,ar)}var bo=false;if(!bl){bl=c(bi,"notFound").replace("%s",ay(al));a8="inv_misc_questionmark";bo=true}else{if(p!=null){if(WH.reforgeStats&&p.forg&&WH.reforgeStats[p.forg]){var a6=WH.reforgeStats[p.forg];var bB=[a6.i1];for(var by in WH.individualToGlobalStat){if(WH.individualToGlobalStat[by]==bB[0]){bB.push(by)}}var bw;if((bw=bl.match(new RegExp("(<!--(stat|rtg)("+bB.join("|")+")-->)[+-]?([0-9]+)")))&&!bl.match(new RegExp("<!--(stat|rtg)"+a6.i2+"-->[+-]?[0-9]+"))){var bt=Math.floor(bw[4]*a6.v),br=aR.traits[a6.s2][0];if(a6.i2==6){bl=bl.replace("<!--rs-->","<br />+"+bt+" "+br)}else{bl=bl.replace("<!--rr-->",WH.sprintfGlobal(aR.tooltip_genericrating,br.toLowerCase(),a6.i2,bt))}bl=bl.replace(bw[0],bw[1]+(bw[4]-bt));bl=bl.replace("<!--rf-->",'<span class="q2">'+WH.sprintfGlobal(aR.tooltip_reforged,bt,aR.traits[a6.s1][2],aR.traits[a6.s2][2])+"</span><br />")}}if(p.pcs&&p.pcs.length){var bv=0;for(var by=0,bc=p.pcs.length;by<bc;++by){var bw;var bh=new RegExp("<span><!--si([0-9]+:)*"+p.pcs[by]+'(:[0-9]+)*--><a href="/??item=(\\d+)">(.+?)</a></span>');if(bw=bl.match(bh)){var bA=!isNaN(parseInt(az))?s[az]:"enus";var ba=(WH.isSet("g_items")&&g_items[p.pcs[by]])?g_items[p.pcs[by]]["name_"+bA]:bw[4];var a4='<a href="/item='+bw[3]+'">'+ba+"</a>";var bg='<span class="q13"><!--si'+p.pcs[by]+"-->"+a4+"</span>";bl=bl.replace(bw[0],bg);++bv}}if(bv>0){bl=bl.replace("(0/","("+bv+"/");bl=bl.replace(new RegExp("<span>\\(([0-"+bv+"])\\)","g"),'<span class="q2">($1)')}}if(p.know&&p.know.length){bl=WH.setTooltipSpells(bl,p.know,a0)}if(p.lvl){bl=WH.setTooltipLevel(bl,(p.lvl?p.lvl:100),p.buff)}if(p.who&&p.when){bl=bl.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+WH.sprintf(c(bi,"achievementComplete"),p.who,p.when.getMonth()+1,p.when.getDate(),p.when.getFullYear())+"</span><br /><br />");bl=bl.replace(/class="q0"/g,'class="r3"')}if(p.notip&&a2){bl="";a8=null}if((al==au)&&p.pwr){bl=bl.replace(/<!--sca-->(\d+)<!--sca-->/g,function(bC,bD){return Math.floor(parseInt(bD)*(1+0.05*p.pwr))})}if((al==Z)&&p.cri){for(var by=0;by<p.cri.length;by++){bl=bl.replace(new RegExp("<!--cr"+parseInt(p.cri[by])+":[^<]+","g"),'<span class="q2">$&</span>')}}}}if(!aU&&WH.isSet("g_user")&&((WH.isRetailTree(U)&&("lists" in g_user)&&WH.isSet("g_completion"))||(WH.isClassicTree(U)&&g_user.characterProfiles&&g_user.characterProfiles.length))){var a5="";var a1=(WH.isRetailTree(U)&&(al in g_types)&&(g_types[al] in g_completion))?g_completion[g_types[al]]:false;var bb=$WowheadPower.getEntity(al,F);if(a1&&(al==aJ)){if(bo||bl===c(bi,"loading")||(bb.hasOwnProperty("worldquesttype")&&bb.worldquesttype!=0)||(bb.hasOwnProperty("daily")&&bb.daily!=0)||(bb.hasOwnProperty("weekly")&&bb.weekly!=0)){a1=false}}var bn=!(a1&&(al in g_completion_categories)&&WH.inArray(g_completion_categories[al],bb.completion_category)===-1);var bm=/^-?\d+(?:\.\d+)?/.exec(F);bm=(bm&&bm.length)?bm[0]:F;if(a1){for(var bz in g_user.lists){var bx=g_user.lists[bz];if(!(bx.id in a1)){continue}var bd=(WH.inArray(a1[bx.id],bm)!=-1);if(!bd&&!bn){continue}a5+='<br><span class="progress-icon '+(bd?"progress-8":"progress-0")+'"></span> ';a5+=bx.character+" - "+bx.realm+" "+bx.region}}if(WH.isClassicTree(U)&&al===aJ){for(var a3,by=0;a3=g_user.characterProfiles[by];by++){var bd=(WH.inArray(a3.quests,bm)!=-1);if(!bd&&!bn){continue}a5+='<br><span class="progress-icon '+(bd?"progress-8":"progress-0");a5+='"></span> '+a3.name+" - "+a3.realm}}if(a5!=""){bl+='<br><span class="q">'+window.LANG.completion+":</span>"+a5}}if(!P&&al==x&&WH.isSet("g_completion")&&("bagscans" in g_completion)&&WH.isRetailTree(U)){var be=/^\d+/.exec(F);if(be){be=be[0]}else{be=-1}var bu=[];for(var bj in g_completion.bagscans){bu.push(bj)}var bq="";while(bj=bu.pop()){if(g_completion.bagscans[bj].items.hasOwnProperty(be)){bq+='<tr><td class="q2" style="text-align: right">'+g_completion.bagscans[bj].items[be]+'&nbsp;</td><td style="white-space: nowrap">'+g_completion.bagscans[bj].name+"</td></tr>"}}if(bq!=""){bl+='<br><span class="q">'+window.LANG.tooltip_bagscanner+"</span><br><table>"+bq+"</table>"}}if(!P&&al==aO&&typeof WH.getPreferredTransmogRace!=="undefined"){var a9=WH.getPreferredTransmogRace();bl=bl.replace(/\/modelviewer(\/classic)?\/transmog\/\d+\/\d+\//g,"/modelviewer$1/transmog/"+a9.race+"/"+(a9.gender-1)+"/")}if(!P&&bl&&(p.diff||p.diffnew||p.noimage)){a2="";a7=""}bl=bl.replace("http://","https://");if(p.map&&bk&&bk.getMap){bs=bk.getMap()}var bp=function(bD,bC){if(al!==bD.type||F!==bD.id||U!==bD.dataEnv||az!==bD.locale||p!==bD.params){return}switch(aq){case aH.screen:WH.Tooltip.showInScreen(ar,bC,null,bs,a2,a7,a8);break;case aH.attachToIcon:case aH.attach:WH.Tooltip.setIcon(aq==aH.attachToIcon?null:a8);WH.Tooltip.show(ar,bC,null,null,null,bs,a2,a7);break;case aH.attachWithoutScreenshot:WH.Tooltip.setIcon(a8);WH.Tooltip.show(ar,bC,null,null,null,bs);break;case aH.floatWithoutIcon:WH.Tooltip.setIcon(null);WH.Tooltip.showAtXY(bC,ax,aw,f,C,bs,a2,a7);break;case aH["float"]:default:WH.Tooltip.setIcon(a8);WH.Tooltip.showAtXY(bC,ax,aw,f,C,bs,a2,a7)}if(P&&WH.Tooltip.logo){WH.Tooltip.logo.style.display=(E?"block":"none")}};var bf={type:al,id:F,dataEnv:U,locale:az,params:p};aN(bl,a0,bp.bind(this,bf),bf)}function aN(a1,a2,a4,a3){switch(a3.type){case aP:var a0=$WowheadPower.getEntity(a3.type,a3.id,a3.dataEnv,a3.locale);if(a3.params.spec&&!(a3.params.know&&a3.params.know.length)){ab.getSpellsBySpec(a3.params.spec,function(a5){a1=a1.replace(/<!--embed:([^>]+)-->/g,function(a6,a7){return WH.setTooltipSpells(a0.data.embeds[a7].tooltip,a5,a0.data.embeds[a7].spells)});a4(a1)});break}else{a1=a1.replace(/<!--embed:([^>]+)-->/g,function(a5,a6){return WH.setTooltipSpells(a0.data.embeds[a6].tooltip,a3.params.know,a0.data.embeds[a6].spells)})}window.requestAnimationFrame(a4.bind(null,a1));break;case ai:if(a3.params.spec&&!(a3.params.know&&a3.params.know.length)){ab.getSpellsBySpec(a3.params.spec,function(a5){a1=WH.setTooltipSpells(a1,a5,a2);a4(a1)});break}window.requestAnimationFrame(a4.bind(null,a1));break;default:window.requestAnimationFrame(a4.bind(null,a1))}}function W(a2,a4,a3,a0){if(al==a2&&F==a4&&U==a3&&az==a0){aV(a0,c(a0,"loading"));var a1=$WowheadPower.getEntity(a2,a4,a3,a0);a1.timer=setTimeout(Q.bind(this,a2,a4,a3,a0),3850)}}function Q(a2,a4,a3,a0){var a1=$WowheadPower.getEntity(a2,a4,a3,a0);a1.status=aG;if(al==a2&&F==a4&&U==a3&&az==a0){aV(a0,c(a0,"noResponse"))}}function at(a0,a2,a1){return a2+(a1.rand?"r"+a1.rand:"")+(a1.ench?"e"+a1.ench:"")+(a1.gems?"g"+a1.gems.join(","):"")+(a1.sock?"s":"")+(a1.upgd?"u"+a1.upgd:"")+(a1.twtbc?"twtbc":"")+(a1.twwotlk?"twwotlk":"")+(a1.twcata?"twcata":"")+(a1.twmists?"twmists":"")+(a1.ilvl?"ilvl"+a1.ilvl:"")+(a1.lvl?"lvl"+a1.lvl:"")+(a1.gem1lvl?"g1lvl"+a1.gem1lvl:"")+(a1.gem2lvl?"g2lvl"+a1.gem2lvl:"")+(a1.gem3lvl?"g3lvl"+a1.gem3lvl:"")+(a1.artk?"ak"+a1.artk:"")+(a1.nlc?"nlc"+a1.nlc:"")+(a1.transmog?"transmog"+a1.transmog:"")+(a1.tink?"tink"+a1.tink:"")+(a1.pvp?"pvp":"")+(a1.bonus?"b"+a1.bonus.join(","):"")+(a1.gem1bonus?"g1b"+a1.gem1bonus.join(","):"")+(a1.gem2bonus?"g2b"+a1.gem2bonus.join(","):"")+(a1.gem3bonus?"g3b"+a1.gem3bonus.join(","):"")+(a1.q?"q"+a1.q:"")+(a1.level?"level"+a1.level:"")+(a1.abil?"abil"+a1.abil.join(","):"")+(a1.dd?"dd"+a1.dd:"")+(a1.ddsize?"ddsize"+a1.ddsize:"")+(a1.diff==ai?"diff"+a1.diff:"")+(a1.rank?"rank"+a1.rank:"")+(a0!==ai&&a1.spec?"spec"+a1.spec:"")+(a1.rewards?"rewards"+a1.rewards.join(":"):"")+(a1["azerite-powers"]?"azPowers"+a1["azerite-powers"]:"")+(a1["azerite-essence-powers"]?"aePowers"+a1["azerite-essence-powers"]:"")+(a1.nomajor?"nomajor":"")}this.clearTouchTooltip=function(a2){if(af){if(a2!==true){af.removeAttribute("data-showing-touch-tooltip")}af.hasWHTouchTooltip=false}af=null;if(a2!==true&&document.querySelectorAll){var a0=document.querySelectorAll("[data-showing-touch-tooltip]");if(a0&&a0.length){for(var a3=0,a1;a1=a0[a3];a3++){a1.removeAttribute("data-showing-touch-tooltip")}}}if(WH.Tooltip.screen){WH.Tooltip.screenInnerWrapper.scrollTop=0;WH.Tooltip.screenInnerWrapper.scrollLeft=0;WH.Tooltip.screen.style.display="none";WH.Tooltip.mobileTooltipShown=false}WH.Tooltip.hide();$WowheadPower.setParent()};function K(a1,a3,a2){if(P){return false}if(!WH.User.isPremium()){return false}if(WH.Tooltip.hideScreenshots){return false}var a0=WH.Gatherer.get(a1,a3,a2,true);if(a0&&a0.screenshot){return[WH.getScreenshotUrl(a0.screenshot,"small"),"screenshot"]}return false}this.register=function(a7,a1,a2,a8,a6){var a5=this.getEntity(a7,a1,a2,a8);if(a6.hasOwnProperty("additionalIds")){var a3=a6.additionalIds;delete a6.additionalIds;if(a3.length){for(var a9=0;a9<a3.length;a9++){this.register(a7,a3[a9],a2,a8,a6)}}}if(!ab.isLoaded(a7,a2)){a5.status=y;ab.registerCallback(a7,a2,this.register.bind(this,a7,a1,a2,a8,a6));return}if((typeof a1==="string"&&(a1.indexOf("lvl")===0||a1.match(/[^i]lvl/)))&&!ab.isLoaded(ai,a2)){a5.status=y;ab.registerCallback(ai,a2,this.register.bind(this,a7,a1,a2,a8,a6));return}if(a5.timer){clearTimeout(a5.timer);delete a5.timer}if(!WH.wowheadRemote&&a6.map){if(a5.data.map==null){a5.data.map=new Mapper({parent:WH.ce("div"),zoom:3,zoomable:false,buttons:false})}a5.data.map.update(a6.map);delete a6.map}for(var a4 in a6){if(!a6.hasOwnProperty(a4)){continue}a5.data[a4]=a6[a4]}switch(a5.status){case ag:case y:case O:if(a5.data[w()]){a5.status=ao}else{a5.status=g}}if(WH.Tooltip.showingTooltip&&al==a7&&F==a1&&U==a2&&az==a8){var ba=a5.data[z(p.image)];var bb=a5.data["image"+p.image+"_class"];var a0=K(a7,a1,a2);if(a0){ba=a0[0];bb=a0[1]}aV(a8,a5.data[w()],a5.data.icon,a5.data.map,a5.data[aZ()],a5.data[w(2)],ba,bb)}while(a5.callbacks.length){a5.callbacks.shift()()}};this.request=function(a2,a5,a4,a0,a3){if(!a3){a3={}}if(a0===undefined){a0=aa.getId()}if(!a4){a4=WH.getDataEnv()}var a1=at(a2,a5,a3);this.getEntity(a2,a1,a4,a0);aD(a2,a5,a4,a0,true,a3)};this.triggerTooltip=function(a1,a0){J(a1,a0||{target:a1})};this.refreshLinks=function(a1){if(a1===true||j("renameLinks")||j("colorLinks")||j("iconizeLinks")){var a0=WH.isTouch();for(var a2=0;a2<document.links.length;a2++){var a4=document.links[a2];var a3=a4.parentNode;var a5=false;while(a3!=null){if((" "+a3.className+" ").replace(/[\n\t]/g," ").indexOf(" wowhead-tooltip ")>-1){a5=true;break}a3=a3.parentNode}if(!a5){J(a4);if(a0){am(a4)}}}}this.hideTooltip()};this.setParent=function(a0){WH.Tooltip.reset();WH.Tooltip.prepare(a0)};this.replaceWithTooltip=function(ba,a6,a1,a2,a8,a3){if(!a3){a3={}}if(a8===undefined){a8=aa.getId()}if(!a2){a2=WH.getDataEnv()}if(typeof ba=="string"){ba=document.getElementById(ba)}if(!ba){return false}var a7=at(a6,a1,a3);var a4=this.getEntity(a6,a7,a2,a8);switch(a4.status){case ao:if(!ba.parentNode){return true}while(ba.hasChildNodes()){ba.removeChild(ba.firstChild)}var a0=["wowhead-tooltip-inline"];if(a4.data.icon){a0.push("wowhead-tooltip-inline-icon")}an(ba,a0);var a5=a4.data[w()];var a9=function(bb){WH.Tooltip.append(ba,bb,true,a4.data.icon)};aN(a5,a4.data[aZ()],a9,{type:a6,id:a1,dataEnv:a2,locale:a8,params:a3});return true;case ag:case O:a4.callbacks.push(this.replaceWithTooltip.bind(this,ba,a6,a1,a2,a8,a3));this.request(a6,a1,a2,a8,a3);return true}return false};if(P){this.set=function(a0){WH.cO(aC,a0)};this.showTooltip=function(a2,a1,a0){L(a2);aV(0,a1,a0)};this.hideTooltip=function(){if(typeof WH==="undefined"||typeof WH.Tooltip==="undefined"||typeof WH.Tooltip.hide!=="function"){return}WH.Tooltip.hide()};this.moveTooltip=function(a0){aE(a0)}}else{this.disableCompletion=function(){aU=true}}av()}};